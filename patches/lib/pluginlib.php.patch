diff --git a/lib/pluginlib.php b/lib/pluginlib.php
index b5ace5c..0b6b8ba 100644
--- a/lib/pluginlib.php
+++ b/lib/pluginlib.php
@@ -137,7 +137,9 @@ class plugin_manager {
 
         if ($disablecache or is_null($this->subpluginsinfo)) {
             $this->subpluginsinfo = array();
-            $mods = get_plugin_list('mod');
+            $parentplugins = array('mod', 'block', 'elis');
+            foreach ($parentplugins as $parent) {
+                $mods = get_plugin_list($parent);
             foreach ($mods as $mod => $moddir) {
                 $modsubplugins = array();
                 if (file_exists($moddir . '/db/subplugins.php')) {
@@ -148,7 +150,8 @@ class plugin_manager {
                         $subplugin->typerootdir = $subplugintyperootdir;
                         $modsubplugins[$subplugintype] = $subplugin;
                     }
-                $this->subpluginsinfo['mod_' . $mod] = $modsubplugins;
+                        $this->subpluginsinfo[$parent . '_' . $mod] = $modsubplugins;
+                    }
                 }
             }
         }
